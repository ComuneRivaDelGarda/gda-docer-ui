{"swagger":"2.0","info":{"version":"1.0.0","title":"GDA-DOCER REST API"},"host":"localhost:8080","basePath":"/gdadocer/api","tags":[{"name":"Docer API"},{"name":"Test API"}],"schemes":["http"],"paths":{"/docer/documents":{"get":{"tags":["Docer API"],"summary":"/documents","description":"ritorna documenti (e tutti i metadati) con uno specifico metadato EXTERNAL_ID","operationId":"getDocuments","produces":["application/json"],"parameters":[{"name":"externalId","in":"query","description":"attributo EXTERNAL_ID da cercare","required":false,"type":"string"},{"name":"utente","in":"query","required":false,"type":"string"}],"responses":{"200":{"description":"success","schema":{"type":"array","items":{"type":"object","additionalProperties":{"type":"object"}}}},"500":{"description":"error"}}}},"/docer/documents/downloadall":{"get":{"tags":["Docer API"],"summary":"/downloadall","description":"download all documents by external_id in a single zip","operationId":"getDocumentDownloadAll","produces":["application/octet-stream"],"parameters":[{"name":"externalId","in":"query","required":false,"type":"string"},{"name":"utente","in":"query","required":false,"type":"string"},{"name":"fileNameZip","in":"query","required":false,"type":"string"}],"responses":{"200":{"description":"success"},"500":{"description":"error"}}}},"/docer/documents/setacl":{"post":{"tags":["Docer API"],"summary":"/documents/setacl","description":"imposta ACL su tutti i documenti corrispondenti ad EXTERNAL_ID","operationId":"setAclToExternalId","consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"body","required":false,"schema":{"$ref":"#/definitions/SetAclToExternalIdRequest"}}],"responses":{"200":{"description":"elenco dei documentId dove sono state applicate le ACL","schema":{"type":"array","items":{"type":"string"}}},"400":{"description":"errore mancanza dati per applicare ACL"},"500":{"description":"error"}}}},"/docer/documents/upload":{"post":{"tags":["Docer API"],"summary":"/upload","description":"upload di un document","operationId":"uploadByExternalId","consumes":["multipart/form-data"],"produces":["application/json"],"parameters":[{"in":"body","name":"externalId","description":"EXTERNAL_ID da impostare come metadato document","required":false,"schema":{"type":"string"}},{"in":"body","name":"acl","description":"ACL da applicare al documento","required":false,"schema":{"type":"string"}},{"in":"body","name":"abstract","description":"ABSTRACT da impostare come metadato document","required":false,"schema":{"type":"string"}},{"in":"body","name":"tipoComponente","description":"TIPO_COMPONENTE da impostare come metadato document","required":true,"schema":{"type":"string"}},{"in":"body","name":"utente","description":"utente accesso DOCER","required":false,"schema":{"type":"string"}},{"in":"body","name":"body","required":false,"schema":{"$ref":"#/definitions/InputStream"}},{"in":"body","name":"body","required":false,"schema":{"$ref":"#/definitions/FormDataContentDisposition"}}],"responses":{"200":{"description":"success"},"500":{"description":"error"}}}},"/docer/documents/{documentId}/download":{"get":{"tags":["Docer API"],"summary":"/download","description":"download di un  document","operationId":"getDocumentDownload","produces":["application/octet-stream"],"parameters":[{"name":"documentId","in":"path","required":true,"type":"string"},{"name":"stamp","in":"query","required":false,"type":"string"},{"name":"utente","in":"query","required":false,"type":"string"}],"responses":{"200":{"description":"success"},"500":{"description":"error"}}}},"/docer/documents/{documentId}/download/{versionNumber}":{"get":{"tags":["Docer API"],"summary":"/download","description":"download di una versione","operationId":"getDocumentDownloadVersion","produces":["application/octet-stream"],"parameters":[{"name":"documentId","in":"path","required":true,"type":"string"},{"name":"versionNumber","in":"path","required":true,"type":"string"},{"name":"stamp","in":"query","required":false,"type":"string"},{"name":"utente","in":"query","required":false,"type":"string"}],"responses":{"200":{"description":"success"},"500":{"description":"error"}}}},"/docer/documents/{documentId}/versione":{"post":{"tags":["Docer API"],"summary":"/upload","description":"upload di un versione di document","operationId":"uploadVersione","consumes":["multipart/form-data"],"produces":["application/json"],"parameters":[{"name":"documentId","in":"path","required":true,"type":"string"},{"in":"body","name":"body","required":false,"schema":{"type":"string"}},{"in":"body","name":"body","required":false,"schema":{"type":"string"}},{"in":"body","name":"body","required":false,"schema":{"$ref":"#/definitions/InputStream"}},{"in":"body","name":"body","required":false,"schema":{"$ref":"#/definitions/FormDataContentDisposition"}}],"responses":{"200":{"description":"success"},"500":{"description":"error"}}}},"/docer/documents/{folderId}/upload":{"post":{"tags":["Docer API"],"summary":"/upload","description":"upload di un document su una folder","operationId":"uploadOnFolder","consumes":["multipart/form-data"],"produces":["application/json"],"parameters":[{"name":"folderId","in":"path","required":true,"type":"string"},{"in":"body","name":"body","required":false,"schema":{"type":"string"}},{"in":"body","name":"body","required":false,"schema":{"type":"string"}},{"in":"body","name":"body","required":false,"schema":{"type":"string"}},{"in":"body","name":"body","required":false,"schema":{"$ref":"#/definitions/InputStream"}},{"in":"body","name":"body","required":false,"schema":{"$ref":"#/definitions/FormDataContentDisposition"}}],"responses":{"200":{"description":"success"},"500":{"description":"error"}}}},"/docer/documents/{id}":{"get":{"tags":["Docer API"],"summary":"/documents","description":"permette di recuperare la lista dei Documenti contenuti in una Folder del DMS","operationId":"getFolderDocuments","produces":["application/json"],"parameters":[{"name":"id","in":"path","description":"documentId della folder","required":true,"type":"string"},{"name":"utente","in":"query","required":false,"type":"string"}],"responses":{"200":{"description":"success","schema":{"type":"array","items":{"type":"string"}}},"500":{"description":"error"}}}},"/docer/documents/{id}/childs":{"get":{"tags":["Docer API"],"summary":"/childs","description":"tutti le folder + tutti i profili","operationId":"getFolderDocumentsChilds","produces":["application/json"],"parameters":[{"name":"id","in":"path","required":true,"type":"string"},{"name":"utente","in":"query","required":false,"type":"string"}],"responses":{"200":{"description":"success","schema":{"type":"array","items":{"type":"object","additionalProperties":{"type":"object"}}}},"500":{"description":"error"}}}},"/docer/documents/{id}/delete":{"delete":{"tags":["Docer API"],"operationId":"documentDelete","produces":["application/json"],"parameters":[{"name":"id","in":"path","required":true,"type":"string"},{"name":"utente","in":"query","required":false,"type":"string"}],"responses":{"default":{"description":"successful operation"}}}},"/docer/documents/{id}/profile":{"get":{"tags":["Docer API"],"summary":"/profile","description":"profilo di un documento","operationId":"getDocumentProfile","produces":["application/json"],"parameters":[{"name":"id","in":"path","required":true,"type":"string"},{"name":"utente","in":"query","required":false,"type":"string"}],"responses":{"200":{"description":"success","schema":{"type":"object","additionalProperties":{"type":"object","additionalProperties":{"type":"object"}}}},"500":{"description":"error"}}}},"/docer/documents/{id}/profiles":{"get":{"tags":["Docer API"],"summary":"/profiles","description":"ritorna l'elenco dei medatadi dei documents di una folder","operationId":"getFolderDocumentsProfiles","produces":["application/json"],"parameters":[{"name":"id","in":"path","required":true,"type":"string"},{"name":"utente","in":"query","required":false,"type":"string"}],"responses":{"200":{"description":"success","schema":{"type":"array","items":{"type":"object","additionalProperties":{"type":"object"}}}},"500":{"description":"error"}}}},"/docer/documents/{id}/versions":{"get":{"tags":["Docer API"],"summary":"/versions","description":"elenco delle versioni","operationId":"getDocumentVersions","produces":["application/json"],"parameters":[{"name":"id","in":"path","required":true,"type":"string"},{"name":"utente","in":"query","required":false,"type":"string"}],"responses":{"200":{"description":"success","schema":{"type":"object","additionalProperties":{"type":"string"}}},"500":{"description":"error"}}}},"/docer/registro/giornaliero":{"get":{"tags":["Docer API"],"summary":"/registro/giornaliero","description":"RG param IN data (GG singolo) EXT=PROTOCOLLO_X,PROTOCOLLO_Y prendi tutti tutti i DOC con quegli EXTERNAL_ID (da - a) creati quel giorno --> EXTERNAL_ID|CREATION_DATE|NOME|ABSTRACT|HASH","operationId":"getRegistroGiornaliero","produces":["application/json"],"parameters":[{"name":"x","in":"query","description":"parametro EXTERNAL_ID inzio","required":false,"type":"string"},{"name":"y","in":"query","description":"parametro EXTERNAL_ID fine","required":false,"type":"string"},{"name":"data","in":"query","description":"parametro DATA da cercare (formato yyyyMMdd)","required":false,"type":"string"},{"name":"utente","in":"query","required":false,"type":"string"}],"responses":{"200":{"description":"success","schema":{"type":"array","items":{"type":"object","additionalProperties":{"type":"object"}}}},"500":{"description":"error"}}}},"/docer/registro/giornaliero/modifiche":{"get":{"tags":["Docer API"],"summary":"/registro/giornaliero/modifiche","description":"RM param IN PROTOCOLLO IN tutti i documenti aggiunti o modificati (OGGI, giorno che si sta concludendo) con EXTERNAL_ID precedente a PROTOCOLLO_X","operationId":"getRegistroModifiche","produces":["application/json"],"parameters":[{"name":"x","in":"query","description":"attributo EXTERNAL_ID da cercare","required":false,"type":"string"},{"name":"data","in":"query","description":"parametro DATA da cercare (formato yyyyMMdd)","required":false,"type":"string"},{"name":"utente","in":"query","required":false,"type":"string"}],"responses":{"200":{"description":"success","schema":{"type":"array","items":{"type":"object","additionalProperties":{"type":"object"}}}},"500":{"description":"error"}}}},"/test":{"get":{"tags":["Test API"],"summary":"/test","description":"un web service di test per verificare che la webapp sia attiva","operationId":"getIt","produces":["text/plain"],"parameters":[],"responses":{"200":{"description":"successful operation","schema":{"type":"string"}}}}}},"definitions":{"SetAclToExternalIdRequest":{"type":"object","properties":{"externalId":{"type":"string"},"acl":{"type":"string"},"utente":{"type":"string"}}},"InputStream":{"type":"object"},"FormDataContentDisposition":{"type":"object","properties":{"type":{"type":"string"},"parameters":{"type":"object","additionalProperties":{"type":"string"}},"fileName":{"type":"string"},"creationDate":{"type":"string","format":"date-time"},"modificationDate":{"type":"string","format":"date-time"},"readDate":{"type":"string","format":"date-time"},"size":{"type":"integer","format":"int64"},"name":{"type":"string"}}}}}